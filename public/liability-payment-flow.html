<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Liability Payment Process Flow</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2563eb;
            text-align: center;
            margin-bottom: 30px;
        }
        .flow-section {
            margin: 30px 0;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #2563eb;
        }
        .step {
            background: #f8f9fa;
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
            border: 1px solid #e9ecef;
        }
        .step-header {
            font-weight: bold;
            color: #2563eb;
            margin-bottom: 10px;
        }
        .accounting-box {
            background: #e8f5e8;
            border: 2px solid #4caf50;
            padding: 15px;
            margin: 20px 0;
            border-radius: 8px;
        }
        .warning-box {
            background: #fff3e0;
            border: 2px solid #ff9800;
            padding: 15px;
            margin: 20px 0;
            border-radius: 8px;
        }
        .info-box {
            background: #e0f2fe;
            border: 2px solid #0288d1;
            padding: 15px;
            margin: 20px 0;
            border-radius: 8px;
        }
        .journal-entry {
            font-family: monospace;
            background: #f1f1f1;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .arrow {
            text-align: center;
            font-size: 24px;
            color: #2563eb;
            margin: 10px 0;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        th {
            background-color: #f8f9fa;
            font-weight: bold;
        }
        .example {
            background: #f0f8ff;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üè¶ Liability Payment Process Flow</h1>
        
        <div class="info-box">
            <h3>üìç Access Point</h3>
            <p><strong>Navigation:</strong> Invoices ‚Üí Finance Tab ‚Üí Blue "Liabilities" Button</p>
            <p><strong>Purpose:</strong> Record bank loan payments, equipment loan payments, and other liability payments with proper accounting treatment</p>
        </div>

        <div class="flow-section">
            <h2>üéØ Step-by-Step Process</h2>
            
            <div class="step">
                <div class="step-header">Step 1: Open Dialog</div>
                <p>Click the blue <strong>"Liabilities"</strong> button to open the responsive payment dialog</p>
            </div>

            <div class="arrow">‚¨áÔ∏è</div>

            <div class="step">
                <div class="step-header">Step 2: Payment Information (Left Column)</div>
                <ul>
                    <li><strong>Liability Type:</strong> Bank Loan / Equipment Loan / Accrued Expense</li>
                    <li><strong>Loan Account:</strong> 2210 (Current) / 2510 (Long-term) / 2530 (Equipment)</li>
                    <li><strong>Payment Date:</strong> Actual payment date</li>
                </ul>
            </div>

            <div class="arrow">‚¨áÔ∏è</div>

            <div class="step">
                <div class="step-header">Step 3: Amount Details (Right Column)</div>
                <ul>
                    <li><strong>Principal Amount:</strong> Portion reducing loan balance</li>
                    <li><strong>Interest Amount:</strong> Interest expense portion</li>
                    <li><strong>Total Amount:</strong> Auto-calculated (Principal + Interest)</li>
                </ul>
            </div>

            <div class="arrow">‚¨áÔ∏è</div>

            <div class="step">
                <div class="step-header">Step 4: Payment Method</div>
                <ul>
                    <li><strong>Cash:</strong> Cash payment (no bank account needed)</li>
                    <li><strong>Bank Transfer:</strong> Electronic transfer (bank account required)</li>
                    <li><strong>Cheque:</strong> Check payment (bank account required)</li>
                    <li><strong>Online:</strong> Online banking/UPI (bank account required)</li>
                </ul>
            </div>

            <div class="arrow">‚¨áÔ∏è</div>

            <div class="step">
                <div class="step-header">Step 5: Description & Submit</div>
                <p>Add clear description and click <strong>"Record Payment"</strong></p>
            </div>
        </div>

        <div class="accounting-box">
            <h2>üìä What Happens When You Click "Record Payment"</h2>
            
            <h3>1. Database Record Created</h3>
            <p>A new record is inserted into the <code>liability_payments</code> table with all payment details.</p>

            <h3>2. Automatic Journal Entries</h3>
            <p>The system creates <strong>3 journal entries</strong> for proper double-entry bookkeeping:</p>

            <table>
                <thead>
                    <tr>
                        <th>Entry</th>
                        <th>Account</th>
                        <th>Debit</th>
                        <th>Credit</th>
                        <th>Purpose</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td>Loan Account (2210/2510/2530)</td>
                        <td>Principal Amount</td>
                        <td>-</td>
                        <td>Reduce loan liability</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>Interest Expense (7010)</td>
                        <td>Interest Amount</td>
                        <td>-</td>
                        <td>Record interest expense</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>Cash/Bank Account (1110/1120)</td>
                        <td>-</td>
                        <td>Total Amount</td>
                        <td>Reduce cash/bank balance</td>
                    </tr>
                </tbody>
            </table>

            <h3>3. Financial Impact</h3>
            <ul>
                <li>‚úÖ <strong>Balance Sheet:</strong> Loan liability reduced by principal amount</li>
                <li>‚úÖ <strong>Income Statement:</strong> Interest expense recorded</li>
                <li>‚úÖ <strong>Cash Flow:</strong> Cash outflow recorded</li>
                <li>‚úÖ <strong>Books:</strong> Remain balanced (Total Debits = Total Credits)</li>
            </ul>
        </div>

        <div class="example">
            <h3>üìù Real Example</h3>
            <p><strong>Scenario:</strong> Monthly bank loan payment of ‚Çπ25,000</p>
            <ul>
                <li><strong>Principal:</strong> ‚Çπ20,000 (reduces loan balance)</li>
                <li><strong>Interest:</strong> ‚Çπ5,000 (business expense)</li>
                <li><strong>Total:</strong> ‚Çπ25,000 (cash paid)</li>
                <li><strong>Method:</strong> Bank Transfer from HDFC Account</li>
            </ul>

            <h4>Journal Entries Created:</h4>
            <div class="journal-entry">
Dr. Bank Loans (2510)           ‚Çπ20,000<br>
Dr. Interest Expense (7010)     ‚Çπ5,000<br>
    Cr. HDFC Bank Account (1120)      ‚Çπ25,000
            </div>

            <h4>Result:</h4>
            <ul>
                <li>üè¶ Bank loan balance reduced by ‚Çπ20,000</li>
                <li>üí∞ HDFC account balance reduced by ‚Çπ25,000</li>
                <li>üìà Interest expense of ‚Çπ5,000 recorded for tax purposes</li>
                <li>üìä Complete audit trail maintained</li>
            </ul>
        </div>

        <div class="warning-box">
            <h3>‚ö†Ô∏è Important Prerequisites</h3>
            <ul>
                <li><strong>Database Migration:</strong> Deploy liability_payments table using <code>/deploy-liability-payments.html</code></li>
                <li><strong>Bank Accounts:</strong> Configure your bank accounts in the system</li>
                <li><strong>Chart of Accounts:</strong> Ensure loan liability accounts (2210, 2510, 2530) exist</li>
                <li><strong>Interest Account:</strong> Verify Interest Expense account (7010) is available</li>
            </ul>
        </div>

        <div class="info-box">
            <h3>üéØ Business Benefits</h3>
            <ul>
                <li><strong>Accurate Records:</strong> Proper separation of principal vs interest</li>
                <li><strong>Tax Compliance:</strong> Interest expenses correctly categorized</li>
                <li><strong>Financial Reporting:</strong> Accurate balance sheet and P&L</li>
                <li><strong>Audit Trail:</strong> Complete documentation of all payments</li>
                <li><strong>Cash Flow:</strong> Real-time impact on cash balances</li>
                <li><strong>Loan Tracking:</strong> Monitor remaining loan balances</li>
            </ul>
        </div>

        <div style="text-align: center; margin: 30px 0; padding: 20px; background: #f0f8ff; border-radius: 10px;">
            <h3>üéâ Your liability payments are now professionally managed with proper accounting!</h3>
            <p>Every payment creates proper journal entries, maintains accurate books, and provides complete audit trail.</p>
        </div>
    </div>
</body>
</html>